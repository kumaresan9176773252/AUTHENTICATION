{"ast":null,"code":"import React,{useState}from'react';import{AppBar,Toolbar,Box,Tabs,Tab,Typography}from'@mui/material';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import axios from'axios';import{authActions}from'../store';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;const Header=()=>{const dispatch=useDispatch();const isLoggedIn=useSelector(state=>state.isLoggedIn);const sendLogoutReq=async()=>{const res=await axios.post(\"https://authentication-backend-5h12.onrender.com/api/logout\",null,{withCredentials:true});if(res.status===200){return res;}return new Error(\"Unable to Logout. Please try again\");};const handleLogout=()=>{sendLogoutReq().then(()=>dispatch(authActions.logout()));};const[value,setvalue]=useState();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AppBar,{position:\"sticky\",children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",children:\"Mern-Auth\"}),/*#__PURE__*/_jsx(Box,{sx:{marginLeft:\"auto\"},children:/*#__PURE__*/_jsxs(Tabs,{indicatorColor:\"secondary\",onChange:(e,val)=>setvalue(val),value:value,textColor:\"inherit\",children:[!isLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tab,{to:\"/login\",LinkComponent:Link,label:\"Login\"}),/*#__PURE__*/_jsx(Tab,{to:\"/signup\",LinkComponent:Link,label:\"Signup\"})]}),isLoggedIn&&/*#__PURE__*/_jsx(Tab,{onClick:handleLogout,to:\"/\",LinkComponent:Link,label:\"Logout\"}),\" \"]})})]})})});};export default Header;","map":{"version":3,"names":["React","useState","AppBar","Toolbar","Box","Tabs","Tab","Typography","Link","useDispatch","useSelector","axios","authActions","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","defaults","withCredentials","Header","dispatch","isLoggedIn","state","sendLogoutReq","res","post","status","Error","handleLogout","then","logout","value","setvalue","children","position","variant","sx","marginLeft","indicatorColor","onChange","e","val","textColor","to","LinkComponent","label","onClick"],"sources":["D:/web developer projects/MERN STACK project/AUTHENTICATION/frontend/src/components/Header.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { AppBar, Toolbar, Box, Tabs, Tab, Typography } from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { authActions } from '../store';\r\naxios.defaults.withCredentials = true;\r\nconst Header = () => {\r\n    const dispatch = useDispatch();\r\n    const isLoggedIn = useSelector(state => state.isLoggedIn);\r\n    const sendLogoutReq = async () => {\r\n        const res = await axios.post(\"https://authentication-backend-5h12.onrender.com/api/logout\", null, {\r\n            withCredentials: true\r\n        });\r\n        if (res.status === 200) {\r\n            return res\r\n        }\r\n        return new Error(\"Unable to Logout. Please try again\")\r\n    }\r\n    const handleLogout = () => {\r\n        sendLogoutReq().then(() => dispatch(authActions.logout()));\r\n    }\r\n\r\n    const [value, setvalue] = useState();\r\n    return (\r\n        <div>\r\n            <AppBar position='sticky'>\r\n                <Toolbar>\r\n                    <Typography variant='h3'>\r\n                        Mern-Auth\r\n                    </Typography>\r\n                    <Box sx={{ marginLeft: \"auto\" }}>\r\n                        <Tabs\r\n                            indicatorColor='secondary'\r\n                            onChange={(e, val) => setvalue(val)}\r\n                            value={value}\r\n                            textColor='inherit'>\r\n                            {!isLoggedIn && <>\r\n                                <Tab to=\"/login\" LinkComponent={Link} label=\"Login\" />\r\n                                <Tab to=\"/signup\" LinkComponent={Link} label=\"Signup\" />\r\n                            </>}\r\n                            {isLoggedIn && (\r\n                                <Tab onClick={handleLogout} to=\"/\" LinkComponent={Link} label=\"Logout\" />\r\n                            )}{\" \"}\r\n                        </Tabs>\r\n                    </Box>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,OAAO,CAAEC,GAAG,CAAEC,IAAI,CAAEC,GAAG,CAAEC,UAAU,KAAQ,eAAe,CAC3E,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBACvCP,KAAK,CAACQ,QAAQ,CAACC,eAAe,CAAG,IAAI,CACrC,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAc,UAAU,CAAGb,WAAW,CAACc,KAAK,EAAIA,KAAK,CAACD,UAAU,CAAC,CACzD,KAAM,CAAAE,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAf,KAAK,CAACgB,IAAI,CAAC,6DAA6D,CAAE,IAAI,CAAE,CAC9FP,eAAe,CAAE,IACrB,CAAC,CAAC,CACF,GAAIM,GAAG,CAACE,MAAM,GAAK,GAAG,CAAE,CACpB,MAAO,CAAAF,GAAG,CACd,CACA,MAAO,IAAI,CAAAG,KAAK,CAAC,oCAAoC,CAAC,CAC1D,CAAC,CACD,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACvBL,aAAa,CAAC,CAAC,CAACM,IAAI,CAAC,IAAMT,QAAQ,CAACV,WAAW,CAACoB,MAAM,CAAC,CAAC,CAAC,CAAC,CAC9D,CAAC,CAED,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGjC,QAAQ,CAAC,CAAC,CACpC,mBACIa,IAAA,QAAAqB,QAAA,cACIrB,IAAA,CAACZ,MAAM,EAACkC,QAAQ,CAAC,QAAQ,CAAAD,QAAA,cACrBjB,KAAA,CAACf,OAAO,EAAAgC,QAAA,eACJrB,IAAA,CAACP,UAAU,EAAC8B,OAAO,CAAC,IAAI,CAAAF,QAAA,CAAC,WAEzB,CAAY,CAAC,cACbrB,IAAA,CAACV,GAAG,EAACkC,EAAE,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAJ,QAAA,cAC5BjB,KAAA,CAACb,IAAI,EACDmC,cAAc,CAAC,WAAW,CAC1BC,QAAQ,CAAEA,CAACC,CAAC,CAAEC,GAAG,GAAKT,QAAQ,CAACS,GAAG,CAAE,CACpCV,KAAK,CAAEA,KAAM,CACbW,SAAS,CAAC,SAAS,CAAAT,QAAA,EAClB,CAACZ,UAAU,eAAIL,KAAA,CAAAF,SAAA,EAAAmB,QAAA,eACZrB,IAAA,CAACR,GAAG,EAACuC,EAAE,CAAC,QAAQ,CAACC,aAAa,CAAEtC,IAAK,CAACuC,KAAK,CAAC,OAAO,CAAE,CAAC,cACtDjC,IAAA,CAACR,GAAG,EAACuC,EAAE,CAAC,SAAS,CAACC,aAAa,CAAEtC,IAAK,CAACuC,KAAK,CAAC,QAAQ,CAAE,CAAC,EAC1D,CAAC,CACFxB,UAAU,eACPT,IAAA,CAACR,GAAG,EAAC0C,OAAO,CAAElB,YAAa,CAACe,EAAE,CAAC,GAAG,CAACC,aAAa,CAAEtC,IAAK,CAACuC,KAAK,CAAC,QAAQ,CAAE,CAC3E,CAAE,GAAG,EACJ,CAAC,CACN,CAAC,EACD,CAAC,CACN,CAAC,CACR,CAAC,CAEd,CAAC,CAED,cAAe,CAAA1B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}